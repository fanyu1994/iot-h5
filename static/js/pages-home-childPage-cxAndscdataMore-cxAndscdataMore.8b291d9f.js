(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-childPage-cxAndscdataMore-cxAndscdataMore"],{1839:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return o}));var o={uTabs:a("a943").default,uInput:a("32f4").default,uDropdown:a("d4dd").default,uDropdownItem:a("1853").default,uButton:a("5b48").default,uTable:a("c5d5").default,uTr:a("3a19").default,uTh:a("ecac").default,uTd:a("0263").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"bg-white"}),a("v-uni-view",{staticClass:"chanxiao-shichang"},[a("div",{staticClass:"cx-sc-title"},[a("back-comp"),a("u-tabs",{attrs:{"active-color":"#09b76e",list:t.list,"is-scroll":!1,current:t.current},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.tabChange.apply(void 0,arguments)}}})],1),a("div",{staticClass:"date"},[a("u-input",{attrs:{type:"select"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openDate.apply(void 0,arguments)}},model:{value:t.dateVal,callback:function(e){t.dateVal=e},expression:"dateVal"}}),a("dateSelect-comp",{ref:"dateSelect",on:{onchange:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}})],1),a("div",{staticClass:"variety-select"},[a("u-dropdown",{ref:"uDropdown",attrs:{"active-color":"#09b76e"}},[a("u-dropdown-item",{attrs:{title:t.varietyTitle}},[a("v-uni-view",{staticClass:"slot-content",staticStyle:{"background-color":"#FFFFFF"}},[a("v-uni-scroll-view",{staticStyle:{height:"400rpx"},attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"u-text-center u-content-color u-m-t-20 u-m-b-20",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.varietyChecked({label:"请选择",value:"请选择"})}}},[t._v("请选择")]),t._l(t.selectOptions,(function(e,o){return a("v-uni-view",{key:o,staticClass:"u-text-center u-content-color u-m-t-20 u-m-b-20",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.varietyChecked(e)}}},[t._v(t._s(e.label))])}))],2),a("u-button",{staticClass:"enter-select",attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeDropdown.apply(void 0,arguments)}}},[t._v("关闭")])],1)],1)],1)],1),a("v-uni-view",{wxsProps:{"change:prop":"option"},staticClass:"echarts",attrs:{prop:t.option,"change:prop":t.echarts.updateEcharts,id:"cx-sc-map"},on:{click:function(e){e=t.$handleWxsEvent(e),t.echarts.onClick(e,t.$getComponentDescriptor())}}}),a("div",{staticClass:"cx-sc-table"},[0===t.current?a("u-table",[a("u-tr",{staticClass:"u-tr"},[a("u-th",{staticClass:"u-th"},[t._v("时间")]),a("u-th",{staticClass:"u-th"},[t._v("产量")]),a("u-th",{staticClass:"u-th"},[t._v("销量")])],1),t._l(t.tableList,(function(e,o){return a("u-tr",{key:o,staticClass:"u-tr"},[a("u-td",{staticClass:"u-td"},[t._v(t._s(e.date))]),a("u-td",{staticClass:"u-td"},[t._v(t._s(e.produce))]),a("u-td",{staticClass:"u-td"},[t._v(t._s(e.sale))])],1)}))],2):a("u-table",[a("u-tr",{staticClass:"u-tr"},[a("u-th",{staticClass:"u-th"},[t._v("时间")]),a("u-th",{staticClass:"u-th"},[t._v("销量")])],1),t._l(t.tableList,(function(e,o){return a("u-tr",{key:o,staticClass:"u-tr"},[a("u-td",{staticClass:"u-td"},[t._v(t._s(e.date))]),a("u-td",{staticClass:"u-td"},[t._v(t._s(e.predictionSale))])],1)}))],2),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showNothing,expression:"showNothing"}],staticClass:"nothing"},[t._v("我是有底线的～")])],1)],1)],1)},n=[]},3913:function(t,e,a){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={mounted:function(){if("function"===typeof window.echarts)this.initEcharts();else{var t=document.createElement("script");t.src="static/echarts/echarts.js",t.onload=this.initEcharts.bind(this),document.head.appendChild(t)}},methods:{initEcharts:function(){o=echarts.init(document.getElementById("cx-sc-map")),o.setOption(this.option)},updateEcharts:function(t,e,a,i){o.clear(),console.log(t,"updateEcharts"),o.setOption(t)},onClick:function(t,e){e.callMethod("onViewClick",{test:"cx-sc-map-test"})}}};e.default=i},"412a":function(t,e,a){"use strict";var o=a("4ea4");a("4160"),a("a434"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(a("5eae")),n=a("ab4c"),c={data:function(){return{title:"产看更多",isShowMap:!1,list:[{name:"产销对比"},{name:"市场预测"}],current:0,selectOptions:[],selectVal:"",varietyTitle:"请选择",count:0,dateVal:"",show:!0,mode:"range",option:{},tableList:[],showNothing:!1}},onShow:function(){var t=this;uni.getSystemInfo({success:function(e){document.querySelector(".huanjing").scrollHeight>e.screenHeight?t.showNothing=!0:t.showNothing=!1}})},methods:{tabChange:function(t){this.current=t,this.getData()},change:function(t){this.dateVal=t,this.getData()},getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e={timeType:t,variety:"请选择"===this.selectVal?"":this.selectVal,limit:5,offset:0};this.option={},this.getType(),this.current?this.getDataSC(e):this.getDataCX(e)},getDataCX:function(t){var e=this;n.http.post("/iot/biData/proSale",t).then((function(t){if(200===t.data.code&&t.data.result.length){e.isShowMap=!1;var a=[],o=[],i=[];e.tableList=[],t.data.result.forEach((function(t){o.push(t.sale),i.push(t.produce),a.push(t.date),e.tableList.push({date:t.date,sale:t.sale,produce:t.produce})})),e.option={title:{},tooltip:{trigger:"axis"},legend:{data:["产量","销量"],top:"5%",left:"40%"},grid:{left:"3%",top:"15%",right:"15%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a,name:"日期"},yAxis:{type:"value",name:"kg"},series:[{name:"销量",type:"line",smooth:!0,symbol:"none",stack:"总量",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#26BCC9"},{offset:1,color:"#fff"}]),lineStyle:{width:1,type:"solid",color:"#26BCC9"}},emphasis:{color:"#26BCC9",lineStyle:{width:2,type:"dotted",color:"#26BCC9"}}},areaStyle:{normal:{}},data:o},{name:"产量",type:"line",smooth:!0,symbol:"none",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#09B76E"},{offset:1,color:"#fff"}]),lineStyle:{width:1,type:"solid",color:"#09B76E"}},emphasis:{color:"#09B76E",lineStyle:{width:2,type:"dotted",color:"#09B76E"}}},areaStyle:{normal:{}},data:i}]}}else e.isShowMap=!0}))},getDataSC:function(t){var e=this;n.http.post("/iot/biData/marketPrediction",t).then((function(t){if(200===t.data.code&&t.data.result.length){e.isShowMap8=!1;var a=[],o=[];e.tableList=[],t.data.result.forEach((function(t){o.push(t.predictionSale),a.push(t.date),e.tableList.push({date:t.date,predictionSale:t.predictionSale})})),e.option={title:{},tooltip:{trigger:"axis"},legend:{data:["销量"],top:"5%",left:"40%"},grid:{left:"3%",top:"15%",right:"15%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a,name:"日期"},yAxis:{type:"value",name:"kg"},series:[{name:"销量",type:"line",smooth:!0,symbol:"none",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#26BCC9"},{offset:1,color:"#fff"}]),lineStyle:{width:1,type:"solid",color:"#26BCC9"}},emphasis:{color:"#26BCC9",lineStyle:{width:2,type:"dotted",color:"#26BCC9"}}},areaStyle:{normal:{}},data:o}]}}else e.isShowMap=!0})).catch((function(t){return console.log(t)}))},getType:function(){var t=this,e={timeType:4,limit:500,offset:0},a="";this.selectOptions=[],a=0===this.current?"/iot/biData/proSale":"/iot/biData/marketPrediction",n.http.post(a,e).then((function(e){200===e.data.code&&e.data.result.forEach((function(e){t.selectOptions.push({value:e.variety,label:e.variety})}))})).catch((function(t){return console.log(t)}))},varietyChecked:function(t){this.selectVal=t.value,this.varietyTitle=t.value,this.$refs.uDropdown.close(),this.getData()},closeDropdown:function(){this.$refs.uDropdown.close()},changeOption:function(){var t=this.option.series[0].data;t.forEach((function(e,a){t.splice(a,1,40*Math.random())}))},onViewClick:function(t){console.log(t)},more:function(){this.$Router.push({path:"/pages/home/childPage/cxAndscdataMore/cxAndscdataMore",query:{dateVal:this.dateVal}})},openDate:function(){this.$refs.dateSelect.show=!0}},components:{dateSelectComp:i.default}};e.default=c},"55fe":function(t,e,a){"use strict";a.r(e);var o=a("3913"),i=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);e["default"]=i.a},"7ae1":function(t,e,a){"use strict";a.r(e);var o=a("1839"),i=a("55fe");for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var c=a("e9b4");for(var n in c)"default"!==n&&function(t){a.d(e,t,(function(){return c[t]}))}(n);a("93e2");var s=a("f0c5");i["default"].__module="echarts";var r=Object(s["a"])(c["default"],o["b"],o["c"],!1,null,"9042bdc4",null,!1,o["a"],i["default"]);e["default"]=r.exports},"93e2":function(t,e,a){"use strict";var o=a("a95d"),i=a.n(o);i.a},9708:function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,".u-td[data-v-9042bdc4],\n.u-th[data-v-9042bdc4]{height:%?84?%}.bg-white[data-v-9042bdc4]{position:absolute;bottom:0;right:0;left:0;top:%?208?%;background-color:#fff;z-index:1}.chanxiao-shichang[data-v-9042bdc4]{overflow:hidden;position:absolute;z-index:99;right:0;left:0;top:0}.chanxiao-shichang .cx-sc-title[data-v-9042bdc4]{height:%?88?%;line-height:%?88?%;background-color:#fff;overflow:hidden;font-size:%?32?%;font-family:PingFangSC-Semibold,PingFang SC;font-weight:600;color:#000;position:relative}.chanxiao-shichang .cx-sc-title .shuxian[data-v-9042bdc4]{position:absolute;left:%?30?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:%?8?%;height:24rx;background:#09b76e}.chanxiao-shichang .date[data-v-9042bdc4]{margin-top:%?20?%;height:%?96?%;line-height:%?96?%;padding:0 %?30?%;background-color:#fff;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#646566}.chanxiao-shichang .date[data-v-9042bdc4] .u-input__input{height:%?96?%}.chanxiao-shichang .variety-select[data-v-9042bdc4]{position:absolute;width:40%;right:%?10?%;top:%?120?%}.chanxiao-shichang .variety-select[data-v-9042bdc4] .u-dropdown__content{height:%?400?%!important;box-sizing:border-box;border-radius:%?10?%;box-shadow:0 0 %?10?% rgba(0,0,0,.1)}.chanxiao-shichang .variety-select .slot-content[data-v-9042bdc4]{position:relative}.chanxiao-shichang .variety-select .slot-content .enter-select[data-v-9042bdc4]{position:fixed;bottom:%?0?%;width:100%}.chanxiao-shichang .variety-select .slot-content[data-v-9042bdc4] .u-btn--primary{background-color:#09b76e!important}.chanxiao-shichang #cx-sc-map[data-v-9042bdc4]{height:%?500?%;width:100%;margin-top:%?2?%;background-color:#fff}.chanxiao-shichang .cx-sc-table[data-v-9042bdc4]{background-color:#fff}.chanxiao-shichang .cx-sc-table .u-tr[data-v-9042bdc4]:nth-child(odd){background-color:#f2f4f7}.chanxiao-shichang .cx-sc-table .more[data-v-9042bdc4]{height:%?100?%;line-height:%?100?%;font-size:%?32?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#646566;text-align:center;margin-top:%?2?%;background-color:#fff}",""]),t.exports=e},a95d:function(t,e,a){var o=a("9708");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("4f06").default;i("d8f627c4",o,!0,{sourceMap:!1,shadowMode:!1})},e9b4:function(t,e,a){"use strict";a.r(e);var o=a("412a"),i=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);e["default"]=i.a}}]);